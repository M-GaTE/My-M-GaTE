$(".contain").css({'margin' : '0 auto', 'width' : $(document).width() - 200 + 'px'});
		$(function() {

			"use strict";
                        
			$("#ganttId1").gantt({
				source: [
                                {% for mandat in etudesParMandat | reverse%}
                                    {% set mandatNum = "Mandat " ~ (etudesParMandat | length - loop.index0) %}
                                {% for etude in mandat %}
                                {
					name: "{{ loop.index0 == 0 ? mandatNum : "" }}",
					desc: "{{getRefEtude(etude)}}",
                                        values: [{ title : "{{ etude.nom | nbsp }}",
                                        content : "{{ etude.suiveur.prenomnom | nbsp }}",
						from: "/Date({{getDateLancement(etude)|date('U')}}000)/",
						to: "/Date({{getDateFin(etude)|date('U') }}000)/",
						label: "{{getRefEtude(etude)}}", 
						customClass: "{{ (etude.stateID == 4 ? "ganttGreen" : (etude.stateID == 3 ? "ganttRed" : (etude.stateID == 2 ? "ganttOrange" : "ganttBlue"))) }}",
                                                dataObj: ""
					}]
				},
                                {% endfor %}
                                {% endfor %}
                        ],
                                navigate: "scroll",
				scale: "weeks",
				maxScale: "months",
				minScale: "hours",
				itemsPerPage: 15,
				onItemClick: function(data) {
                                if(data)
					document.location.href = data;
				},
				onAddClick: function(dt, rowId) {
					alert("Empty space clicked - add an item!");
				},
                                onRender: function() {
					if (window.console && typeof console.log === "function") {
						console.log("chart rendered");
					}
				}
			});

                        $(".gantt").popover({
				selector: ".bar",
				trigger: "hover",
                                placement: "top"
			});
			//prettyPrint();

		});
