 
$(".contain").css({'margin' : '0 auto', 'width' : $(document).width() - 200 + 'px'});

		$(function() {

			"use strict";
                        
			$("#ganttId{{id}}").gantt({
				source: [
                                {% if etude.dateCreation %}   
                                {
					name: "Etude",
					desc: "Création",
					values: [{ title : "Création de l'Etude",
                                                content : "Créée le {{etude.dateCreation|date('d/m/Y')}}",
						from: "/Date({{etude.dateCreation|date('U') }}000)/",
						to: "/Date({{etude.dateCreation|date('U') }}000)/",
						label: "Start", 
						customClass: "ganttBlue",
                                                dataObj: "{{ path('mgateSuivi_etude_modifier', {'id': etude.id}) }}"
					}]
				},
                                {% endif %}
                                {% if getDateLancement(etude) and  getDateFin(etude)%}   
                                {
					name: "",
					desc: "Durée",
					values: [{ title : "Durée de déroulement des phases",
                                                content : "Debut le {{getDateLancement(etude)|date('d/m/y') }} Fin le {{getDateFin(etude)|date('d/m/Y')}}",
						from: "/Date({{getDateLancement(etude)|date('U') }}000)/",
						to: "/Date({{getDateFin(etude)|date('U') }}000)/",
						label: "Durée de déroulement des phases", 
						customClass: "ganttGreen",
                                                dataObj: "{{ path('mgateSuivi_phases_modifier', {'id': etude.id}) }}"
					}]
				},
                                {% endif %}
                                {% if etude.ap and etude.ap.datesignature %}  
                                {
					name: "Avant-Projet",
					desc: "Signé",
                                        values: [{ title : "Avant Projet",
                                                content : "Signé le {{etude.ap.datesignature|date('d/m/y')}}",
						from: "/Date({{etude.ap.datesignature|date('U') }}000)/",
						to: "/Date({{etude.ap.datesignature|date('U') }}000)/",
						label: "AP", 
						customClass: "ganttGreen",
                                                dataObj: "{{ path('mgateSuivi_ap_voir', {'id': etude.id}) }}"
					}]
				},
                                {% endif %}
                                {% if etude.cc and etude.cc.datesignature %}  
                                {
					name: "Convention Client",
					desc: "Signé",
                                        values: [{ title : "Convention Client",
                                                content : "Signée le {{etude.cc.datesignature|date('d/m/y')}}",
						from: "/Date({{etude.cc.datesignature|date('U') }}000)/",
						to: "/Date({{etude.cc.datesignature|date('U') }}000)/",
						label: "CC", 
						customClass: "ganttGreen",
                                                dataObj: "{{ path('mgateSuivi_cc_voir', {'id': etude.id}) }}"
					}]
				},
                                {% endif %}
                                {% for clientContact in etude.clientcontacts %}   
                                {
					name: {%if loop.index == 1 %}"Contact Client" {%else%} "" {% endif%},
					desc: "Contact {{loop.index}}",
                                        values: [{ title : "Contact Client",
                                                content : "Pris le {{clientContact.date|date('d/m/Y')}}",
						from: "/Date({{clientContact.date|date('U') }}000)/",
						to: "/Date({{clientContact.date|date('U') }}000)/",
						label: "C{{loop.index}}", 
						customClass: "ganttBlue",
                                                dataObj: "{{ path('mgateSuivi_clientcontact_voir', {'id': clientContact.id }) }}"
					}]
				},
                                {% endfor %}
                                {% for phase in etude.phases %}   
                                {
					name: {%if loop.index == 1 %}"Phases" {%else%} "" {% endif%},
					desc: "Phase {{loop.index}}",
                                        values: [{ title : "{{phase.titre |nbsp | raw }}",
                                        content : "Commence le {{phase.dateDebut|date('d/m/Y')}}",
						from: "/Date({{phase.dateDebut|date('U')}}000)/",
						to: "/Date({{phase.dateDebut|date('U') + 86400 * ( phase.delai ) }}000)/",
						label: "Phase {{loop.index}}", 
						customClass: "ganttBlue",
                                                dataObj: ""
					}]
				},
                                {% endfor %}
                        ],
                                navigate: "buttons",
				scale: "weeks",
				maxScale: "months",
				minScale: "days",
				itemsPerPage: 10,
				onItemClick: function(data) {
                                if(data)
					document.location.href = data;
				},
				onAddClick: function(dt, rowId) {
					alert("Empty space clicked - add an item!");
				},
                                onRender: function() {
					if (window.console && typeof console.log === "function") {
						console.log("chart rendered");
					}
				}
			});

                        $(".gantt").popover({
				selector: ".bar",
				trigger: "hover",
                                placement: "top"
			});
			//prettyPrint();

		});
    
    
    